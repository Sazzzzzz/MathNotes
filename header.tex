\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{booktabs}  % 提供更专业的表格线条
\usepackage{array}     % 增强的表格功能
\usepackage[normalem]{ulem}
\usepackage[dvipsnames]{xcolor}
\usepackage[many]{tcolorbox}
\usepackage{extarrows}
\usepackage{breqn}
% Use verb inside other environments
\usepackage{fancyvrb}
\everymath{\displaystyle}
% Some may argue that the use of displaystyle in inline formulas may
% break line spacing and make the document look ugly. However, I
% prefer to follow the choice of the textbook setting
\usepackage{hyperref}
\usepackage{mathrsfs}
\usepackage{graphicx}
\usepackage{float}

\AtBeginDocument{%
    \renewcommand\Re{\operatorname{Re}}
    \renewcommand\Im{\operatorname{Im}}
}

\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan,
    pdftitle={Title},
}
\theoremstyle{plain}
\theoremstyle{definition}
\newtheorem{theorem}{Theorem}
\newtheorem{definition}{Definition}[chapter]
\newtheorem{problem}{Problem}[chapter]
\renewcommand{\i}{\mathrm{i}}
\newcommand{\e}{\mathrm{e}}

\newcommand{\R}{\mathbb{R}} % Real
\newcommand{\C}{\mathbb{C}} % Complex
\newcommand{\Z}{\mathbb{Z}} % Integer, from Zahlen, by David Hilbert
\newcommand{\Q}{\mathbb{Q}} % Rational, from Quotient
\newcommand{\N}{\mathbb{N}} % Natural, from Naturals

\newcommand{\abs}[1]{\left|#1\right|} % Absolute value
% TODO: Consider using `\R' for `\Rq`
% TODO: Still configurable
% \setlength{\parskip}{5pt}

% TODO: Modify the `proof' environment

\SaveVerb{smile}|:-)|
\SaveVerb{laugh}|:-D|
\SaveVerb{wink}|;-)|
\SaveVerb{sad}|:-(|
\SaveVerb{angry}|:-@|
\SaveVerb{confused}|:-S|
\SaveVerb{cool}|B-)|
\SaveVerb{cry}|:'-|
\SaveVerb{kiss}|:-*|
\SaveVerb{surprised}|:-o|
\SaveVerb{grin}|:-]|
% There is a big conflict between Chinese punctuation and
% English punctuation
% If we use Chinese punctuation only, the formatter won't
% work recognize the break
% If we use Chinese punctuation with space behind, the
% source code will be ugly
% If we use English punctuation, the output will be ugly
% \setCJKmainfont[BoldFont=SimHei,ItalicFont=FangSong,BoldItalicFont=LiSu]{SimSun}
\newcommand\hl{\bgroup\markoverwith{\textcolor{yellow}{\rule[-.5ex]{2pt}{2.5ex}}}\ULon}
\newtcolorbox{refbox}[1][]{%
enhanced,                   % Use enhanced features
boxrule=-1pt,                % No border frame for the main box
leftrule=1.8pt,               % Thickness of the left
colframe=NavyBlue!75!white, % Color of the left line
sharp corners,              % Use sharp corners
boxsep=0pt,                 % Separation between frame
% (rule) and content area border
left=10pt,     % Left padding similar to quote environment
right=2pt,    % Right padding
top=2pt,    % Top padding
bottom=2pt, % Bottom padding
breakable,                  % Allow the box to break
% across pages if needed
#1                          % Pass additional
}

\renewenvironment{quote}
{
\begin{refbox}}
{
\end{refbox}}

\newfontfamily\DancingScript{Dancing Script OT}
\newcommand{\Caffein}{\DancingScript{Caffein3}}
